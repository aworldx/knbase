---
title: Indexes
keywords: db
summary: "This is just a sample topic..."
sidebar: knbase_sidebar
permalink: db_indexes.html
folder: knbase
---

## Виды индексов в postgres

Postgres поддерживает 5 типов индексов:
- B-дерево,
- хеш
- GiST
- SP-GiST
- GIN
- BRIN

### Особенности B-дерева
- индекс по умолчанию в Rails
- самый популярный
- работает только с сортируемыми данными: < <= = >= >
- может быть составным (важен порядок колонок)

![alt text](images/knbase/db/index.png "Title")

### Особенности хеш индекса
- работает только с простыми условиями равенства
- не рекомендуется их использовать

### GiST индекс
- сбалансированное дерево поиска как и b-tree
- но работает не только с сортируемыми данными (не только там где применимы > >= = < <=)
- используется для гео-данных, геометрических объектов

### SP-GiST индекс
- похож на GiST, но позволяет строить создавать несбалансированные деревья

### Составные индексы
- b-tree индекс может быть составным (многоколоночным)
- важен порядок колонок. Если индекс состоит из  col_1, col_2. То индексируемый поиск возможно по col_1, col_1 + col_2, но не по col_2
...

### Недостатки индексов
- занимают дополнительную память
- при вставке и удалении требуют перестроения, из-за чего операция выполняется дольше

### Индексы и сортировка
- Если сортировка происходит по колонке включенной в индекс, то сортировка отдельно не требуется

### Сбалансированное b-tree дерево
- ...

### Ссылки
- https://postgrespro.ru/docs/postgresql/9.6/indexes-types
- https://tproger.ru/articles/indeksy-v-postgresql/